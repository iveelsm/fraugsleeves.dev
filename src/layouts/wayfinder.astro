---
import "../styles/wayfinder.css";

import Searchable from "./searchable.astro";

import { WayfinderHeader } from "../components/wayfinders";

const { frontmatter } = Astro.props;
const { minutesRead } = frontmatter;

const article = {
	publishedTime: frontmatter.pubDate
		? new Date(frontmatter.pubDate).toISOString()
		: new Date().toISOString(),
	authors: frontmatter.author ? [frontmatter.author] : undefined,
	tags: frontmatter.tags,
};
---

<Searchable
	title={frontmatter.title}
	description={frontmatter.description}
	image={frontmatter.image}
	article={article}
	class="wayfinder-layout"
>
	<WayfinderHeader
		title={frontmatter.title}
		description={frontmatter.description}
		date={frontmatter.pubDate}
		minutesRead={minutesRead}
		author={frontmatter.author}
	/>

	<div class="wayfinder-post">
		<main>
			<slot />
		</main>
	</div>
</Searchable>
