---
import "../styles/navigation.css";
import Search from "./search.astro";

const currentPath = Astro.url.pathname;

const navItems = [
	{ href: "/", label: "Home", exact: true },
	{ href: "/wayfinders", label: "Wayfinders", exact: false },
	{ href: "/blog", label: "Blog", exact: false },
	{ href: "/tags", label: "Tags", exact: true },
];

function isActive(href: string, exact: boolean): boolean {
	if (exact) {
		return currentPath === href;
	}
	return currentPath === href || currentPath.startsWith(href + "/");
}
---

<nav class="toolbar">
	<div class="toolbar-content">
		<a href="/" class="toolbar-logo" aria-label="Home">
			<img src="/logo.svg" alt="Logo" class="logo-image" />
		</a>
		<div class="toolbar-right">
			<div class="toolbar-links">
			{
				navItems.map((item) => (
					<a
						href={item.href}
						class:list={[
							"toolbar-link",
							{ active: isActive(item.href, item.exact) },
						]}
					>
						{item.label}
					</a>
				))
			}
			</div>
			<Search />
		</div>
	</div>
</nav>
