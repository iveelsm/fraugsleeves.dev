---
import { getFontsPackageInfo, getAvailableFonts } from "astro-font-loader";


const fontsPackageInfo = getFontsPackageInfo("@iveelsm/fonts");
let preloadFonts = [];
if (fontsPackageInfo != null) {
	preloadFonts = getAvailableFonts(fontsPackageInfo.fontsDir)
		.filter(font => font.filename.toLowerCase().includes("ebgaramond-bold.woff2") ||
			font.filename.toLowerCase().includes("berkeleymonovariable-regular.woff2") ||
			font.filename.toLowerCase().includes("berkeleymonovariable-italic.woff2")
	);
}
---
{ preloadFonts.length > 0 &&
		preloadFonts.map((font: any) => {
			<link rel="preload" href={`/fonts/${font.filename}`} as="font" type="font/woff2" crossorigin>
		})
}
